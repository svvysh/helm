# Cross-Project Spec Runner CLI — Specs Workspace

This `docs/specs/` directory contains the specification bundles and templates used to build and evolve the Cross-Project Spec Runner CLI itself.

The workflow is:

1. Each feature or slice of work gets its own `spec-XX-*` folder:
   - `SPEC.md` — the human-readable spec.
   - `acceptance-checklist.md` — concrete checks that must pass.
   - `metadata.json` — machine-readable status and dependencies.
   - `implementation-report.md` — generated by the implementation runner.

2. The implementation runner (`implement-spec.mjs`) orchestrates a worker/verifier loop using the Codex CLI:
   - The worker runs with full repo access.
   - The verifier runs in a read-only sandbox.
   - Verifier must emit a leading `STATUS: ok` or `STATUS: missing` line, and when missing, a JSON line describing remaining tasks.

3. A Go + Bubble Tea TUI (`helm`) will:
   - Discover `spec-*` folders.
   - Let you select a spec to run.
   - Track status and dependencies via `metadata.json`.

Although the TUI is not yet implemented, this directory already contains the specs and templates that will be used to build it.

**Testing convention:** when writing automated tests or dry-running scaffold/runner flows, point `SpecsRoot` to a temp directory (e.g., `t.TempDir()/specs-test`) so the checked-in `docs/specs/` tree stays untouched.

## Folder layout

- `implement.prompt-template.md` — worker prompt template (strict mode).
- `review.prompt-template.md` — verifier prompt template.
- `implement-spec.mjs` — Node runner that loops worker → verifier.
- `spec-splitting-guide.md` — guidance for splitting large specs into multiple `spec-*` folders.
- `.cli-settings.json` — default models and acceptance commands.

Example spec folders:

- `spec-00-foundation/` — Go module + CLI skeleton.
- `spec-01-config-metadata/` — persistent settings and metadata model.
- `spec-02-scaffold-command/` — `scaffold` command and template generation.
- `spec-03-implement-runner/` — `implement-spec.mjs` and its integration.
- `spec-04-run-command/` — `run` TUI and runner integration.
- `spec-05-spec-splitting-command/` — `spec` command for splitting large specs.
- `spec-06-status-command/` — `status` TUI and dependency graph.

## Using this workspace

1. Pick a spec folder whose `metadata.json.status` is `"todo"` and whose dependencies are `"done"`.
2. Use `implement-spec.mjs` to orchestrate implementation:
   - `node docs/specs/implement-spec.mjs docs/specs/spec-00-foundation`
3. Follow the remaining tasks reported by the verifier until `STATUS: ok`.

Once the Go TUI is implemented, the `helm run` and `helm status` commands will automate this flow.
